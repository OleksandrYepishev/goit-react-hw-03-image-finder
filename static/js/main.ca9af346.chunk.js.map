{"version":3,"sources":["components/Searchbar/Searchbar.styled.js","components/Searchbar/Searchbar.jsx","components/Container/Container.styled.js","components/Container/Container.jsx","services/api.js","components/ImageGalleryItem/ImageGalleryItem.styled.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.styled.js","components/ImageGallery/ImageGallery.jsx","components/Button/Button.styled.js","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/modal.styled.js","components/Modal/modal.jsx","components/App/App.jsx","index.js"],"names":["Serchbar","styled","header","SearchBar","onSearch","onSubmit","e","preventDefault","target","elements","imageName","value","trim","toLowerCase","type","autoComplete","autoFocus","placeholder","name","MainContainer","div","Container","children","axios","defaults","baseURL","fetchImages","page","a","params","get","response","data","hits","ImGItem","li","Image","img","ImageGalleryItem","id","webformatURL","tags","onClick","src","alt","ImageGalleryList","ul","ImageGallery","images","onSelect","map","largeImageURL","BtnLoadMore","button","Button","Spinner","color","height","width","timeout","Overlay","ModalImg","Modal","hendelKeyDown","code","props","onClose","handleBackdropClick","currentTarget","window","addEventListener","this","removeEventListener","srcImg","altImg","Component","App","state","selectedImage","reqStatus","handleFormSubmit","setState","handleBtnLoadMore","p","handleSelectedImg","closeModal","_","prevState","shouldFetch","toast","error","status","length","scrollTo","top","document","documentElement","scrollHeight","behavior","showButton","position","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ca9af346.chunk.js","sourcesContent":["import styled from '@emotion/styled';\n\nexport const Serchbar = styled.header`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n\n  form {\n    display: flex;\n    align-items: center;\n    width: 100%;\n    max-width: 600px;\n    background-color: #fff;\n    border-radius: 3px;\n    overflow: hidden;\n  }\n\n  button {\n    display: inline-block;\n    width: 48px;\n    height: 48px;\n    border: 0;\n    background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\n    background-size: 40%;\n    background-repeat: no-repeat;\n    background-position: center;\n    opacity: 0.6;\n    transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n    cursor: pointer;\n    outline: none;\n\n    &:hover {\n      opacity: 1;\n    }\n  }\n\n  span {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    clip-path: inset(50%);\n    border: 0;\n  }\n\n  input {\n    display: inline-block;\n    width: 100%;\n    font: inherit;\n    font-size: 20px;\n    border: none;\n    outline: none;\n    padding-left: 4px;\n    padding-right: 4px;\n\n    &::placeholder {\n      font: inherit;\n      font-size: 18px;\n    }\n  }\n`;\n","import { Serchbar } from './Searchbar.styled';\r\n\r\nexport const SearchBar = ({ onSearch }) => {\r\n  const handleSearch = e => {\r\n    e.preventDefault();\r\n    onSearch(e.target.elements.imageName.value.trim().toLowerCase());\r\n  };\r\n\r\n  return (\r\n    <Serchbar>\r\n      <form onSubmit={handleSearch}>\r\n        <button type=\"submit\">\r\n          <span>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          name=\"imageName\"\r\n        />\r\n      </form>\r\n    </Serchbar>\r\n  );\r\n};\r\n","import styled from '@emotion/styled';\n\nexport const MainContainer = styled.div`\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 16px;\n  padding-bottom: 24px;\n`;\n","import { MainContainer } from './Container.styled';\n\nexport const Container = ({ children }) => (\n  <MainContainer>{children}</MainContainer>\n);\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nexport const fetchImages = async (imageName, page) => {\n  const API_KEY = '22089613-2c269b20f41d8e495fd067b59';\n  const params = `${page}&image_type=photo&orientation=horizontal&per_page=12`;\n  const response = await axios.get(\n    `?key=${API_KEY}&q=${imageName}&${params}&page=${page}`,\n  );\n\n  return response.data.hits;\n};\n","import styled from '@emotion/styled';\n\nexport const ImGItem = styled.li`\n  border-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n`;\n\nexport const Image = styled.img`\n  width: 100%;\n  height: 260px;\n  object-fit: cover;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n`;\n","import PropTypes from 'prop-types';\r\nimport { ImGItem, Image } from './ImageGalleryItem.styled';\r\n\r\nexport const ImageGalleryItem = ({ id, webformatURL, tags, onClick }) => (\r\n  <ImGItem key={id} onClick={onClick}>\r\n    <Image src={webformatURL} alt={tags} />\r\n  </ImGItem>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  id: PropTypes.number,\r\n  tags: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import styled from '@emotion/styled';\n\nexport const ImageGalleryList = styled.ul`\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n`;\n","import PropTypes from 'prop-types';\r\nimport { ImageGalleryItem } from '../ImageGalleryItem/ImageGalleryItem';\r\nimport { ImageGalleryList } from './ImageGallery.styled';\r\n\r\nexport const ImageGallery = ({ images, onSelect }) => (\r\n  <ImageGalleryList>\r\n    {images.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n      <ImageGalleryItem\r\n        key={id}\r\n        webformatURL={webformatURL}\r\n        tags={tags}\r\n        onClick={() => onSelect({ largeImageURL, tags })}\r\n      />\r\n    ))}\r\n  </ImageGalleryList>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number,\r\n      largeImageURL: PropTypes.string,\r\n      webformatURL: PropTypes.string,\r\n      tags: PropTypes.string,\r\n    }),\r\n  ),\r\n  onSelect: PropTypes.func.isRequired,\r\n};\r\n","import styled from '@emotion/styled';\n\nexport const BtnLoadMore = styled.button`\n  padding: 8px 16px;\n  border-radius: 2px;\n  background-color: #3f51b5;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: inline-block;\n  color: #fff;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  min-width: 180px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n\n  &:hover,\n  :focus {\n    background-color: #303f9f;\n  }\n`;\n","import PropTypes from 'prop-types';\r\nimport { BtnLoadMore } from './Button.styled';\r\n\r\nexport const Button = ({ onClick }) => (\r\n  <BtnLoadMore type=\"button\" onClick={onClick}>\r\n    Load more\r\n  </BtnLoadMore>\r\n);\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nexport const Spinner = () => (\r\n  <Loader type=\"Oval\" color=\"#187c39\" height={100} width={100} timeout={3000} />\r\n);\r\n","import styled from '@emotion/styled';\n\nexport const Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n`;\n\nexport const ModalImg = styled.div`\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n`;\n","import React, { Component } from 'react';\r\nimport { Overlay, ModalImg } from './modal.styled';\r\n\r\nexport class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.hendelKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.hendelKeyDown);\r\n  }\r\n\r\n  hendelKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { srcImg, altImg } = this.props;\r\n\r\n    return (\r\n      <Overlay onClick={this.handleBackdropClick}>\r\n        <ModalImg>\r\n          <img src={srcImg} alt={altImg} />\r\n        </ModalImg>\r\n      </Overlay>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\n\nimport { SearchBar } from '../Searchbar/Searchbar';\nimport { Container } from '../Container/Container';\nimport { fetchImages } from '../../services/api';\nimport { ImageGallery } from '../ImageGallery/ImageGallery';\nimport { Button } from '../Button/Button.jsx';\nimport { Spinner } from '../Loader/Loader';\nimport { Modal } from '../Modal/modal';\n\nexport class App extends Component {\n  state = {\n    imageName: null,\n    selectedImage: null,\n    images: [],\n    reqStatus: 'idle',\n    page: 1,\n  };\n\n  async componentDidUpdate(_, prevState) {\n    const { imageName, page } = this.state;\n    const shouldFetch = prevState.imageName !== imageName && imageName !== '';\n\n    if (imageName === '') {\n      return toast.error('U need to write a name of image!');\n    }\n\n    if (shouldFetch || prevState.page !== page) {\n      try {\n        this.setState({ status: 'pending' });\n        const images = await fetchImages(imageName, page);\n        this.setState({ status: 'resolved' });\n\n        if (images.length === 0) {\n          return toast.error(`there is no image with that name  ${imageName}`);\n        }\n        this.setState({ images: [...this.state.images, ...images] });\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      } catch (error) {\n        this.setState({ status: 'rejected' });\n      }\n    }\n  }\n\n  handleFormSubmit = imageName => {\n    this.setState({ imageName, page: 1, images: [] });\n  };\n\n  handleBtnLoadMore = () => {\n    this.setState(p => ({ page: p.page + 1 }));\n  };\n\n  handleSelectedImg = selectedImage => {\n    this.setState({ selectedImage });\n  };\n\n  closeModal = () => {\n    this.setState(() => ({\n      selectedImage: null,\n    }));\n  };\n\n  render() {\n    const { images, status, selectedImage } = this.state;\n    const showButton = images.length > 0;\n\n    return (\n      <Container>\n        <SearchBar onSearch={this.handleFormSubmit} />\n        {status === 'pending' && <Spinner />}\n        <ImageGallery images={images} onSelect={this.handleSelectedImg} />\n        {showButton && <Button onClick={this.handleBtnLoadMore} />}\n        {selectedImage && (\n          <Modal\n            srcImg={selectedImage.largeImageURL}\n            altImg={selectedImage.tags}\n            onClose={this.closeModal}\n          />\n        )}\n        <Toaster position=\"top-right\" />\n      </Container>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './components/App/App.jsx';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}